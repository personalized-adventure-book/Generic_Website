<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dynamic Order Form</title>
</head>
<body>
  <h1>Order Form</h1>
  <form id="order-form">
    <!-- fields get injected here -->
  </form>

  <script>
    // Helper: read ?id= from URL (default to 1)
    function getParam(name, def) {
      var v = new URLSearchParams(window.location.search).get(name);
      return v === null ? def : v;
    }
    var id = getParam("id", "1");

    // JSON-P callback: build form fields
    function initFormFields(data) {
      var form = document.getElementById("order-form");
      form.innerHTML = "";  // clear any existing

      Object.keys(data).forEach(function(labelText) {
        var wrapper = document.createElement("div");

        var label = document.createElement("label");
        label.textContent = labelText;
        label.htmlFor = "field_" + labelText;
        wrapper.appendChild(label);

        wrapper.appendChild(document.createElement("br"));

        var input = document.createElement("input");
        input.type = "text";
        input.id = "field_" + labelText;
        input.name = labelText;
        input.placeholder = data[labelText];
        wrapper.appendChild(input);

        form.appendChild(wrapper);
      });
    }

    // Inject <script> tag to fetch your Apps Script JSON-P
    (function(){
      var script = document.createElement("script");
      script.src = "https://script.google.com/macros/s/AKfycbxomnBCc-HtyYOogmi0ljnrK_SLyWAIM57TkUfemDO1Ou0lo9_08DnuMKnW-7qF3wdB/exec"
                 + "?id=" + encodeURIComponent(id)
                 + "&callback=initFormFields";
      document.body.appendChild(script);
    })();
  </script>
</body>
</html>